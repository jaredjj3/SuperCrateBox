{"version":3,"sources":["webpack/bootstrap 9783eeaad94d85b579c7","./lib/SuperCrateBox.js","./lib/Resources.js","./lib/Player.js","./lib/Moveable.js","./lib/util/CONSTANTS.js","./lib/util/SPRITES.js","./lib/Sprite.js","./lib/util/UNITS.js","./lib/util/STAGES.js","./lib/Wall.js","./lib/WallSprite.js","./lib/Powerup.js","./lib/Crate.js","./lib/Enemy.js","./lib/Shield.js","./lib/Input.js","./lib/util/CollisionManager.js"],"names":["UNITS","SPRITES","STAGES","CONSTANTS","SuperCrateBox","play","bind","main","setup","reset","update","render","addEnemy","addShield","resetCrate","renderHtml","allObjects","addPowerup","removeEnemy","checkIfReset","checkIfPaused","removeShield","renderEntity","checkIfMuted","renderEntities","updateEntities","killAllEnemies","checkPlayerBounds","removeElectricShield","lastTime","Date","now","lastEnemySpawnTime","lastPowerupSpawnTime","isPaused","ENEMY_SPAWN_RATE","ENEMY_SPAWN_DIFF","ENEMY_SPAWN_FLOOR","dt","window","mainLoop","requestAnimationFrame","timeSinceLastEnemySpawn","timeSinceLastPowerupSpawn","nextSpawnTime","score","POWERUP_SPAWN_RATE","player","crate","enemies","handleInput","checkCollisions","collisionManager","handleCollisions","ctx","stage","shields","powerups","electricShields","clearRect","pos","setTimeout","isResetting","localHighScore","parseInt","localStorage","getItem","highScore","setItem","document","getElementById","innerHTML","scoreEl","className","gameOver","muteHeldDown","pauseHeldDown","audioIsPlaying","load","init","audio","Audio","addEventListener","currentTime","onReady","canvas","getContext","volumeEl","volumeClicked","currentObjectId","STAGE_1","i","length","enemy","isDead","id","powerup","createdAt","POWERUP_DESPAWN_RATE","removePowerup","kill","vx","vel","toFixed","vy","x","hitbox","y","entity","save","translate","sprite","restore","list","push","seed","Math","random","SHIELD_PICKUP","ELECTRIC_SHIELD_PICKUP","NUKE_PICKUP","SHIELD","ELECTRIC_SHIELD","targetId","shield","splice","electricShield","input","isDown","pause","scb","Resources","resourceCache","loading","readyCallbacks","_load","get","isReady","arg","forEach","url","ready","k","hasOwnProperty","func","img","Image","onload","callback","src","Player","opts","type","jumpNumber","jumpKeyPressed","lastJumpTime","lastRunDirection","shieldHitPoints","electricShieldHitPoints","lastHit","w","h","setSprite","handleSurfaceCollison","handleEnemyCollision","handleJumpKeyPress","handleJumpKeyRelease","sprites","idleRight","facing","idleLeft","runRight","runLeft","isFloating","powerupType","game","addElectricShield","numEnemies","numberToRemove","floor","SHIELD_RECOVERY_TIME","ELECTRIC_SHIELD_RECOVERY_TIME","timeSinceLastHit","isNotRecovering","outerElectricShield","flashing","outerShield","collisionType","PLAYER_VERTICAL_INIT_VEL","PLAYER_HORIZONTAL_VEL","PLAYER_HORIZONTAL_ACC","Moveable","lastPos","lastVel","GRAVITY","ENEMY_ONE_VEL","ENEMY_ONE_INIT_VEL","frames","size","speed","dir","once","ELECTRIC_SHIELD_FLASHING","SHIELD_FLASHING","PLAYER_IDLE_RIGHT","PLAYER_IDLE_LEFT","PLAYER_RUN_RIGHT","PLAYER_RUN_LEFT","PLAYER_FLOAT_RIGHT","PLAYER_FLOAT_LEFT","PLAYER_JUMP_RIGHT","PLAYER_JUMP_LEFT","CRATE","HAMMER_RUN_RIGHT","HAMMER_RUN_LEFT","Sprite","_index","frame","max","idx","done","scale","drawImage","CRATE_SPAWN","normal","POWERUP_SPAWN","PLAYER","HAMMER","WT","SLW1","MLW1","HO1","OW1","sample","seeds","multiplier","randomOffset","n","Wall","WallSprite","pattern","createPattern","fillStyle","fillRect","Powerup","Crate","Enemy","randomSpeed","direction","handleCollision","fractionOfMaxSpeed","abs","Shield","Input","pressedKeys","setKey","e","key","toUpperCase","indexOf","keyCode","preventDefault","event","status","code","String","fromCharCode","CollisionManager","entityHitWall","typeOfCollision","handleEnemyCollisions","handleCrateCollisions","handlePlayerCollisions","objects","walls","otherObjects","isPlayerFloating","playerPickedUpCrate","otherObject","handlePowerupCollision","nuke","j","wall","resetXPos","resetYPos","resetXVel","nullXVel","resetYVel","nullYVel","offset","obj1","obj2","collisionExists","rect1","rect2","_collisionRight","_collisionLeft","_collisionTop","_collisionBottom","l","r","t","b"],"mappings":"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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9783eeaad94d85b579c7"," import Resources from './Resources';\nimport Player from './Player';\nimport Crate from './Crate';\nimport Sprite from './Sprite';\nimport Input from './Input';\nimport Enemy from './Enemy';\nimport * as UNITS from './util/UNITS';\nimport { CRATE, PLAYER, HAMMER } from './util/UNITS';\nimport * as SPRITES from './util/SPRITES';\nimport * as STAGES from './util/STAGES';\nimport * as CONSTANTS from './util/CONSTANTS';\nimport CollisionManager from './util/CollisionManager';\n\nclass SuperCrateBox {\n  constructor() {\n    this.play = this.play.bind(this);\n    this.main = this.main.bind(this);\n    this.setup = this.setup.bind(this);\n    this.reset = this.reset.bind(this);\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n    this.addEnemy = this.addEnemy.bind(this);\n    this.addShield = this.addShield.bind(this);\n    this.resetCrate = this.resetCrate.bind(this);\n    this.renderHtml = this.renderHtml.bind(this);\n    this.allObjects = this.allObjects.bind(this);\n    this.addPowerup = this.addPowerup.bind(this);\n    this.removeEnemy = this.removeEnemy.bind(this);\n    this.checkIfReset = this.checkIfReset.bind(this);\n    this.checkIfPaused = this.checkIfPaused.bind(this);\n    this.removeShield = this.removeShield.bind(this);\n    this.renderEntity = this.renderEntity.bind(this);\n    this.checkIfMuted = this.checkIfMuted.bind(this);\n    this.renderEntities = this.renderEntities.bind(this);\n    this.updateEntities = this.updateEntities.bind(this);\n    this.killAllEnemies = this.killAllEnemies.bind(this);\n    this.checkPlayerBounds = this.checkPlayerBounds.bind(this);\n    this.removeElectricShield = this.removeElectricShield.bind(this);\n  }\n\n  play() {\n    this.lastTime = Date.now();\n    this.lastEnemySpawnTime = Date.now();\n    this.lastPowerupSpawnTime = Date.now();\n    this.setup();\n  }\n\n  main() {\n    const {\n      reset,\n      update,\n      render,\n      checkIfMuted,\n      checkIfReset,\n      checkIfPaused,\n      addEnemy,\n      addPowerup,\n      isPaused\n    } = this;\n\n    const {\n      ENEMY_SPAWN_RATE,\n      ENEMY_SPAWN_DIFF,\n      ENEMY_SPAWN_FLOOR\n    } = CONSTANTS;\n\n    checkIfMuted();\n    checkIfPaused();\n    checkIfReset();\n\n    const now = Date.now();\n    const dt = (now - this.lastTime) / 1000.0;\n    this.lastTime = now;\n\n    if (isPaused) {\n      window.mainLoop = requestAnimationFrame(this.main);\n      return;\n    }\n    const timeSinceLastEnemySpawn = now - this.lastEnemySpawnTime;\n    const timeSinceLastPowerupSpawn = now - this.lastPowerupSpawnTime;\n    let nextSpawnTime = ENEMY_SPAWN_RATE - (this.score * ENEMY_SPAWN_DIFF);\n    nextSpawnTime = nextSpawnTime <= ENEMY_SPAWN_FLOOR ?\n      ENEMY_SPAWN_FLOOR : nextSpawnTime;\n\n    if (timeSinceLastEnemySpawn >= nextSpawnTime) {\n      addEnemy();\n    }\n\n    if (timeSinceLastPowerupSpawn >= CONSTANTS.POWERUP_SPAWN_RATE) {\n      addPowerup();\n    }\n\n    update(dt);\n    render();\n\n    window.mainLoop = requestAnimationFrame(this.main);\n  }\n\n  update(dt) {\n    const {\n      player,\n      crate,\n      enemies,\n      handleInput,\n      allObjects,\n      updateEntities,\n      checkCollisions,\n      checkPlayerBounds,\n      collisionManager\n    } = this;\n\n    player.handleInput(dt);\n    updateEntities(dt);\n    collisionManager.handleCollisions(allObjects());\n    checkPlayerBounds();\n  }\n\n  render() {\n    const {\n      ctx,\n      player,\n      enemies,\n      crate,\n      stage,\n      shields,\n      powerups,\n      electricShields,\n      renderEntity,\n      renderEntities,\n      renderHtml,\n    } = this;\n\n    renderHtml();\n    ctx.clearRect(0, 0, 900, 600);\n    renderEntities(stage);\n    renderEntities(enemies);\n    renderEntity(player);\n    renderEntity(crate);\n    renderEntities(powerups);\n    renderEntities(shields);\n    renderEntities(electricShields);\n  }\n\n  // private\n\n  resetCrate() {\n    this.crate.pos[0] = -100;\n    this.crate.pos[1] = 100;\n    setTimeout(() => {\n      this.crate = CRATE();\n    }, 500);\n  }\n\n  reset() {\n    this.isResetting = true;\n    this.shields = [];\n    this.electricShields = [];\n    this.lastEnemySpawnTime = Date.now();\n    this.lastPowerupSpawnTime = Date.now();\n    this.isPaused = false;\n\n    setTimeout(() => {\n      const localHighScore = parseInt(window.localStorage.getItem('highScore'));\n      const highScore = this.score > localHighScore ? this.score : localHighScore; \n      window.localStorage.setItem('highScore', highScore);\n      document.getElementById('high-score').innerHTML = `High score: ${highScore}`;\n      this.score = 0;\n      this.scoreEl.className = 'single_digits';\n      this.killAllEnemies();\n      this.player = PLAYER();\n      this.resetCrate();\n      this.powerups = [];\n      this.lastEnemySpawnTime = Date.now();\n      this.lastPowerupSpawnTime = Date.now();\n      this.isResetting = false;\n      this.gameOver = false;\n    }, 2000);\n\n    this.main();\n  }\n\n  setup() {\n    const localHighScore = window.localStorage.getItem('highScore');\n    const highScore = localHighScore ? localHighScore : 0;\n    window.localStorage.setItem('highScore', highScore);\n    document.getElementById(\"high-score\").innerHTML = `High score: ${highScore}`;\n    this.gameOver = false;\n    this.isResetting = false;\n    this.muteHeldDown = false;\n    this.pauseHeldDown = false;\n    this.audioIsPlaying = false;\n    // loads resources\n    Resources.load([\n      './lib/img/jay.png',\n      './lib/img/crate.png',\n      './lib/img/hammer.png',\n      './lib/img/metal.png',\n      './lib/img/shieldPickup.png',\n      './lib/img/electricShieldPickup.png',\n      './lib/img/nukePickup.png',\n      './lib/img/electricShield.png',\n      './lib/img/shield.png'\n    ]);\n    \n    const init = () => {\n      this.audio = new Audio('./lib/img/bonetrousle.mp3');\n      const audio = this.audio;\n      this.audio.addEventListener('ended', () => {\n        audio.currentTime = 0;\n        audio.play();\n      }, false);\n      this.lastTime = Date.now();\n      this.main();\n    };\n    Resources.onReady(init);\n    Input.setup();\n\n    // HTML Elements\n    const canvas = document.getElementById('canvas');\n    this.ctx = canvas.getContext('2d');\n    this.score = 0;\n    this.volumeEl = document.getElementById('volume');\n    this.volumeEl.addEventListener('click', () => {\n      this.volumeClicked = true;\n    });\n    this.scoreEl = document.getElementById('score');\n    this.scoreEl.className = 'single_digits';\n    // this.velocityEl = document.getElementById('velocity');\n    // this.positionEl = document.getElementById('position');\n    this.collisionManager = new CollisionManager(this);\n\n    this.player = PLAYER();\n    this.currentObjectId = 0;\n    this.enemies = [];\n    this.shields = [];\n    this.electricShields = [];\n    this.crate = CRATE();\n    this.powerups = [];\n    this.stage = STAGES.STAGE_1;\n\n    this.isPaused = false;\n  }\n\n  updateEntities(dt) {\n    this.player.update(dt);\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      enemy.update(dt, this);\n      if (enemy.isDead && (enemy.pos[1] > 600 || enemy.pos[1] < -10)\n    ) {\n        enemy.update(dt, this);\n        this.removeEnemy(enemy.id);\n      }\n    }\n\n    for (let i = 0; i < this.powerups.length; i++) {\n      const powerup = this.powerups[i];\n      if (Date.now() - powerup.createdAt >= CONSTANTS.POWERUP_DESPAWN_RATE) {\n        this.removePowerup(powerup.id);\n      } else {\n        powerup.update(dt);\n      }\n    }\n\n    for (let i = 0; i < this.electricShields.length; i++) {\n      this.electricShields[i].update(dt);\n    }\n\n    for (let i = 0; i < this.shields.length; i++) {\n      this.shields[i].update(dt);\n    }\n    this.crate.update(dt);\n  }\n\n  checkPlayerBounds() {\n    if (this.player.pos[1] > 700 && this.gameOver === false) {\n      this.gameOver = true;\n      this.player.kill();\n    }\n  }\n\n  renderHtml() {\n    const { score, player } = this;\n    this.scoreEl.innerHTML = score;\n    if (this.score > 19) {\n      this.scoreEl.className = \"high_digits\";\n    } else if (this.score > 9) {\n      this.scoreEl.className = \"double_digits\";\n    }\n    const vx = this.player.vel[0].toFixed(0);\n    const vy = this.player.vel[1].toFixed(0);\n    const x = this.player.hitbox().x.toFixed(0);\n    const y = this.player.hitbox().y.toFixed(0);\n    // this.velocityEl.innerHTML = `V: ${vx}, ${vy}`;\n    // this.positionEl.innerHTML = `P: ${x}, ${y}`;\n  }\n\n  renderEntity(entity) {\n    const { ctx } = this;\n    ctx.save();\n    ctx.translate(entity.pos[0], entity.pos[1]);\n    entity.sprite.render(ctx);\n    ctx.restore();\n  }\n\n  renderEntities(list) {\n    for (let i = 0; i < list.length; i++) {\n      this.renderEntity(list[i]);\n    }\n  }\n\n  allObjects() {\n    const { player, enemies, crate, stage, powerups, shields } = this;\n    return { player, enemies, crate, stage, powerups, shields };\n  }\n\n  addEnemy() {\n    this.lastEnemySpawnTime = Date.now();\n    this.currentObjectId++;\n    this.enemies.push(HAMMER(this.currentObjectId));\n  }\n\n  addPowerup() {\n    this.lastPowerupSpawnTime = Date.now();\n    this.currentObjectId++;\n    const seed = Math.random();\n    let powerup;\n    if (seed <= 0.4) {\n      powerup = UNITS.SHIELD_PICKUP(this.currentObjectId);\n    } else if (seed > 0.4 && seed < 0.8) {\n      powerup = UNITS.ELECTRIC_SHIELD_PICKUP(this.currentObjectId);\n    } else {\n      powerup = UNITS.NUKE_PICKUP(this.currentObjectId);\n    }\n    this.powerups.push(powerup);\n  }\n\n  addShield() {\n    this.currentObjectId++;\n    this.shields.push(UNITS.SHIELD(this.currentObjectId, this.player));\n  }\n\n  addElectricShield() {\n    this.currentObjectId++;\n    this.electricShields.push(\n      UNITS.ELECTRIC_SHIELD(this.currentObjectId, this.player)\n    );\n  }\n\n  removeShield(targetId) {\n    for (let i = 0; i < this.shields.length; i++) {\n      const shield = this.shields[i];\n      if (shield.id === targetId) {\n        this.shields.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  removeElectricShield(targetId) {\n    for (let i = 0; i < this.electricShields.length; i++) {\n      const electricShield = this.electricShields[i];\n      if (electricShield.id === targetId) {\n        this.electricShields.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  removeEnemy(targetId) {\n    for (let i = 0; i < this.enemies.length; i++) {\n      const enemy = this.enemies[i];\n      if (enemy.id === targetId) {\n        this.enemies.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  killAllEnemies() {\n    for (let i = 0; i < this.enemies.length; i++) {\n      this.enemies[i].kill();\n    }\n  }\n\n  removePowerup(targetId) {\n    for (let i = 0; i < this.powerups.length; i++) {\n      const powerup = this.powerups[i];\n      if (powerup.id === targetId) {\n        this.powerups.splice(i, 1);\n        return;\n      }\n    }\n  }\n\n  checkIfMuted() {\n    const input = window.input;\n    if (input.isDown('M') || this.volumeClicked) {\n      if (!this.muteHeldDown) {\n        this.audioIsPlaying = !this.audioIsPlaying;\n        if (this.audioIsPlaying) {\n          this.volumeEl.innerHTML = 'volume_up';\n          this.audio.play();\n          this.volumeClicked = false;\n        } else {\n          this.volumeEl.innerHTML = 'volume_off';\n          this.audio.pause();\n          this.volumeClicked = false;\n        }\n      }\n      this.muteHeldDown = true;\n    } else {\n      this.muteHeldDown = false;\n    }\n  }\n\n  checkIfReset() {\n    const input = window.input;\n    if ((this.gameOver || input.isDown('R')) && !this.isResetting) {\n      this.player.kill();\n      this.reset();\n      return;\n    }\n  }\n\n  checkIfPaused() {\n    const input = window.input;\n    if (input.isDown('P')) {\n      if (!this.pauseHeldDown) {\n        this.isPaused = !this.isPaused;\n      }\n      this.pauseHeldDown = true;\n    } else {\n      this.pauseHeldDown = false;\n    }\n  }\n}\n\nconst scb = new SuperCrateBox();\ndocument.addEventListener('DOMContentLoaded', () => scb.play());\n\n\n\n// WEBPACK FOOTER //\n// ./lib/SuperCrateBox.js","class Resources {\n  constructor() {\n    this.resourceCache = {};\n    this.loading = [];\n    this.readyCallbacks = [];\n\n    this.load = this.load.bind(this);\n    this._load = this._load.bind(this);\n    this.get = this.get.bind(this);\n    this.isReady = this.isReady.bind(this);\n    this.onReady = this.onReady.bind(this);\n  }\n\n  load(arg) {\n    const { _load } = this;\n    arg.forEach(url => _load(url));\n  }\n\n  get(url) {\n    return this.resourceCache[url];\n  }\n\n  isReady() {\n    const { resourceCache } = this;\n    let ready = true;\n    for (let k in resourceCache) {\n      if (resourceCache.hasOwnProperty(k) && !resourceCache[k]) {\n        ready = false;\n      }\n    }\n    return ready;\n  }\n\n  onReady(func) {\n    this.readyCallbacks.push(func);\n  }\n\n  // private\n\n  _load(url) {\n    const { resourceCache, readyCallbacks, isReady } = this;\n\n    if (resourceCache[url]) {\n      return resourceCache[url];\n    } else {\n      const img = new Image();\n      img.onload = () => {\n        resourceCache[url] = img;\n\n        if (isReady()) {\n          readyCallbacks.forEach(callback => callback());\n        }\n      };\n      resourceCache[url] = false;\n      img.src = url;\n    }\n  }\n\n}\n\nconst { load, get, onReady, isReady } = new Resources();\nexport default {\n  load: load,\n  get: get,\n  onReady: onReady,\n  isReady: isReady\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Resources.js","import Moveable from './Moveable';\nimport * as CONSTANTS from './util/CONSTANTS';\nimport * as SPRITES from './util/SPRITES';\nimport * as UNITS from './util/UNITS';\n\nclass Player extends Moveable {\n  constructor(opts) {\n    super(opts);\n    this.type = 'player';\n    this.jumpNumber = 0;\n    this.jumpKeyPressed = false;\n    this.lastJumpTime = Date.now();\n    this.lastRunDirection = 'right';\n    this.shieldHitPoints = 0;\n    this.electricShieldHitPoints = 0;\n    this.lastHit = Date.now();\n    this.isDead = false;\n\n    this.hitbox = () => ({\n      x: this.pos[0] + 20,\n      y: this.pos[1] + 15,\n      w: 27,\n      h: 49\n    });\n\n    this.setSprite = this.setSprite.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.handleSurfaceCollison = this.handleSurfaceCollison.bind(this);\n    this.handleEnemyCollision = this.handleEnemyCollision.bind(this);\n    this.handleJumpKeyPress = this.handleJumpKeyPress.bind(this);\n    this.handleJumpKeyRelease = this.handleJumpKeyRelease.bind(this);\n  }\n\n  kill() {\n    this.isDead = true;\n    this.vel[1] += -200;\n    this.sprites.idleRight.facing = 'rightFlipped';\n    this.sprites.idleLeft.facing = 'leftFlipped';\n    this.sprites.runRight.facing = 'rightFlipped';\n    this.sprites.runLeft.facing = 'leftFlipped';\n  }\n\n  setSprite() {\n    const { vel, sprites, isFloating } = this;\n    const vx = vel[0];\n    const vy = vel[1];\n\n    if (vx > 0) {\n      this.sprite = sprites.runRight;\n    } else if (vx < 0) {\n      this.sprite = sprites.runLeft;\n    } else {\n      if (this.lastRunDirection === 'right') {\n        this.sprite = sprites.idleRight;\n      } else if (this.lastRunDirection === 'left') {\n        this.sprite = sprites.idleLeft;\n      }\n    }\n  }\n\n  handlePowerupCollision(powerupType, game) {\n    switch(powerupType) {\n      case 'shield':\n        this.shieldHitPoints++;\n        game.addShield();\n        break;\n      case 'electricShield':\n        this.electricShieldHitPoints += 1;\n        game.addElectricShield();\n        break;\n      case 'nuke':\n        const numEnemies = game.enemies.length;\n        let numberToRemove = numEnemies;\n        if (numEnemies === 0) {\n          numberToRemove = 0;\n        } else if (numEnemies === 1) {\n          numberToRemove = 1;\n        } else {\n          numberToRemove = Math.floor(numEnemies * 0.8);\n        }\n\n        for (let i = 0; i < numberToRemove; i++) {\n          game.enemies[i].kill();\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  handleEnemyCollision(enemy, game) {\n    const {\n      SHIELD_RECOVERY_TIME,\n      ELECTRIC_SHIELD_RECOVERY_TIME\n    } = CONSTANTS;\n\n    const timeSinceLastHit = Date.now() - this.lastHit;\n\n    // if player has electric shield\n    let isNotRecovering = timeSinceLastHit > ELECTRIC_SHIELD_RECOVERY_TIME;\n    if (isNotRecovering && this.electricShieldHitPoints > 0) {\n      this.electricShieldHitPoints--;\n      enemy.kill();\n      const outerElectricShield = game.electricShields[game.electricShields.length - 1];\n      outerElectricShield.sprite = outerElectricShield.sprites.flashing;\n      setTimeout(() => game.removeElectricShield(outerElectricShield.id), ELECTRIC_SHIELD_RECOVERY_TIME);\n      this.lastHit = Date.now();\n      return;\n    }\n\n    // if player has shield\n    isNotRecovering = timeSinceLastHit > SHIELD_RECOVERY_TIME;\n    if (isNotRecovering && this.shieldHitPoints === 0) {\n      this.kill();\n      game.gameOver = true;\n    } else if (isNotRecovering) {\n      this.shieldHitPoints--;\n      const outerShield = game.shields[game.shields.length - 1];\n      outerShield.sprite = outerShield.sprites.flashing;\n      setTimeout(() => game.removeShield(outerShield.id), SHIELD_RECOVERY_TIME);\n      this.lastHit = Date.now();\n    }\n  }\n\n  handleSurfaceCollison(collisionType) {\n    if (collisionType === 'bottom') {\n      this.jumpNumber = 0;\n    }\n  }\n\n  handleJumpKeyPress() {\n    if (this.jumpNumber < 2 && !this.jumpKeyPressed) {\n      this.jumpNumber++;\n      this.vel[1] = CONSTANTS.PLAYER_VERTICAL_INIT_VEL;\n    }\n    this.jumpKeyPressed = true;\n  }\n\n  handleJumpKeyRelease() {\n    this.jumpKeyPressed = false;\n  }\n\n  handleInput(dt) {\n    const input = window.input;\n    const {\n      pos,\n      vel,\n      isDead,\n      sprites,\n      jumpNumber,\n      handleJumpKeyPress,\n      handleJumpKeyRelease\n     } = this;\n    const {\n      PLAYER_HORIZONTAL_VEL,\n      PLAYER_HORIZONTAL_ACC\n    } = CONSTANTS;\n\n    if (isDead) {\n      return;\n    }\n\n    if (input.isDown('UP') || input.isDown('SPACE')) {\n      handleJumpKeyPress();\n    } else {\n      handleJumpKeyRelease();\n    }\n\n    if (input.isDown('LEFT')) {\n      this.lastRunDirection = 'left';\n      if (vel[0] > -PLAYER_HORIZONTAL_VEL) {\n        this.vel[0] -= (PLAYER_HORIZONTAL_ACC * dt);\n      } else {\n        this.vel[0] = -PLAYER_HORIZONTAL_VEL;\n      }\n    } else if (input.isDown('RIGHT')) {\n      this.lastRunDirection = 'right';\n      if (this.vel[0] < PLAYER_HORIZONTAL_VEL) {\n        this.vel[0] += (PLAYER_HORIZONTAL_ACC * dt);\n      } else {\n        this.vel[0] = PLAYER_HORIZONTAL_VEL;\n      }\n    } else {\n      this.vel[0] = 0;\n    }\n\n    this.setSprite();\n  }\n\n\n\n}\n\nexport default Player;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Player.js","import * as CONSTANTS from './util/CONSTANTS';\n\nclass Moveable {\n  constructor(opts) {\n    const { pos, lastPos, vel, lastVel, sprites, sprite } = opts;\n    this.pos = pos;\n    this.lastPos = [0, 0];\n    this.vel = vel;\n    this.lastVel = [0, 0];\n    this.sprites = sprites;\n    this.sprite = sprite;\n\n    this.update = this.update.bind(this);\n  }\n\n  update(dt) {\n    this.lastPos[0] = this.pos[0];\n    this.lastPos[1] = this.pos[1];\n    this.lastVel[0] = this.vel[0];\n    this.lastVel[1] = this.vel[1];\n    this.vel[1] += CONSTANTS.GRAVITY * dt;\n    this.pos[0] += this.vel[0] * dt;\n    this.pos[1] += this.vel[1] * dt;\n    this.sprite.update(dt);\n  }\n\n}\n\nexport default Moveable;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Moveable.js","export const GRAVITY = 1400; // px/sec^2\n\nexport const PLAYER_HORIZONTAL_VEL = 375; // px/sec\nexport const PLAYER_HORIZONTAL_ACC = 6000; // px/sec^2\nexport const PLAYER_VERTICAL_INIT_VEL = -600;\nexport const SHIELD_RECOVERY_TIME = 500; // millisecs\nexport const ELECTRIC_SHIELD_RECOVERY_TIME = 500; // millisecs\n\nexport const ENEMY_ONE_VEL = 325;\nexport const ENEMY_ONE_INIT_VEL = -400;\nexport const ENEMY_SPAWN_RATE = 6000;  // every n millisecs\nexport const ENEMY_SPAWN_DIFF = 150;\nexport const ENEMY_SPAWN_FLOOR = 1000;\n\nexport const POWERUP_SPAWN_RATE = 3000; // every n millisecs\nexport const POWERUP_DESPAWN_RATE = 9000; // every n millisecs\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util/CONSTANTS.js","import Sprite from '../Sprite';\n\nexport const ELECTRIC_SHIELD = () => (\n  new Sprite({\n    url: './lib/img/electricShield.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 3, 2, 1, 0],\n    size: [64, 64],\n    speed: 10,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const ELECTRIC_SHIELD_FLASHING = () => (\n  new Sprite({\n    url: './lib/img/electricShield.png',\n    pos: [0, 0],\n    frames: [0, 5, 1, 5, 2, 5, 3, 5, 2, 5, 1, 5, 0],\n    size: [64, 64],\n    speed: 20,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const SHIELD = () => (\n  new Sprite({\n    url: './lib/img/shield.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 3, 2, 1, 0],\n    size: [64, 64],\n    speed: 10,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const SHIELD_FLASHING = () => (\n  new Sprite({\n    url:'./lib/img/shield.png',\n    pos: [0, 0],\n    frames: [0, 5, 1, 5, 2, 5, 3, 5, 2, 5, 1, 5, 0],\n    size: [64, 64],\n    speed: 20,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const SHIELD_PICKUP = () => (\n  new Sprite({\n    url: './lib/img/shieldPickup.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 1, 0],\n    size: [64, 64],\n    speed: 5,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const ELECTRIC_SHIELD_PICKUP = () => (\n  new Sprite({\n    url: './lib/img/electricShieldPickup.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 1, 0],\n    size: [64, 64],\n    speed: 5,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const NUKE_PICKUP = () => (\n  new Sprite({\n    url: './lib/img/nukePickup.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 1, 0],\n    size: [64, 64],\n    speed: 5,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const PLAYER_IDLE_RIGHT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [\n      0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3,\n      3, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0\n    ],\n    size: [64, 64],\n    speed: 24,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const PLAYER_IDLE_LEFT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [\n      0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3,\n      3, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0, 0, 0\n    ],\n    size: [64, 64],\n    speed: 24,\n    dir: 'horizontal',\n    once: false,\n    facing: 'left'\n  })\n);\n\n\nexport const PLAYER_RUN_RIGHT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [5, 6, 7, 8, 9, 8, 7, 6],\n    size: [64, 64],\n    speed: 18,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\n\nexport const PLAYER_RUN_LEFT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [6, 7, 8, 9, 8, 7, 6, 5],\n    size: [64, 64],\n    speed: 18,\n    dir: 'horizontal',\n    once: false,\n    facing: 'left'\n  })\n);\n\nexport const PLAYER_FLOAT_RIGHT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [12],\n    size: [64, 64],\n    speed: 1,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const PLAYER_FLOAT_LEFT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [12],\n    size: [64, 64],\n    speed: 1,\n    dir: 'horizontal',\n    once: false,\n    facing: 'left'\n  })\n);\n\n\nexport const PLAYER_JUMP_RIGHT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [10, 11, 11, 12, 12, 12, 12, 12, 12, 12],\n    size: [64, 64],\n    speed: 24,\n    dir: 'horizontal',\n    once: true,\n    facing: 'right'\n  })\n);\n\nexport const PLAYER_JUMP_LEFT = () => (\n  new Sprite({\n    url: './lib/img/jay.png',\n    pos: [0, 0],\n    frames: [10, 11, 11, 12, 12, 12, 12, 12, 12, 12],\n    size: [64, 64],\n    speed: 24,\n    dir: 'horizontal',\n    once: true,\n    facing: 'left'\n  })\n);\n\nexport const CRATE = () => (\n  new Sprite({\n    url: './lib/img/crate.png',\n    pos: [0, 0],\n    frames: [0],\n    size: [20, 20],\n    speed: 1,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const HAMMER_RUN_RIGHT = () => (\n  new Sprite({\n    url: './lib/img/hammer.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 3, 4, 3, 2, 1],\n    size: [64, 64],\n    speed: 20,\n    dir: 'horizontal',\n    once: false,\n    facing: 'right'\n  })\n);\n\nexport const HAMMER_RUN_LEFT = () => (\n  new Sprite({\n    url: './lib/img/hammer.png',\n    pos: [0, 0],\n    frames: [0, 1, 2, 3, 4, 3, 2, 1],\n    size: [64, 64],\n    speed: 20,\n    dir: 'horizontal',\n    once: false,\n    facing: 'left'\n  })\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util/SPRITES.js","import Resources from './Resources.js';\n\nclass Sprite {\n  constructor(opts) {\n    const { pos, size, speed, frames, url, dir, once, facing } = opts;\n    this.pos = pos;\n    this.size = size;\n    this.speed = typeof speed === 'number' ? speed : 0;\n    this.frames = frames;\n    this.url = url;\n    this.dir = dir;\n    this.once = once;\n    this._index = 0;\n    this.facing = facing;\n\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  update(dt) {\n    const { speed } = this;\n    this._index += speed * dt;\n  }\n\n  render(ctx) {\n    const { speed, frames, pos, size, once, _index, dir, url, facing } = this;\n    let frame;\n\n    if (speed > 0) {\n      const max = this.frames.length;\n      // idx is the ith picture\n      const idx = Math.floor(_index);\n      frame = frames[idx % max];\n\n      if (once && idx >= max) {\n        this.done = true;\n        return;\n      }\n    } else {\n      frame = frames[0];\n    }\n\n    let x = pos[0];\n    let y = pos[1];\n\n    if (dir === 'vertical') {\n      y += frame * size[1];\n    } else {\n      x += frame * size[0];\n    }\n\n    switch(facing) {\n      case 'left':\n        ctx.translate(size[0], 0);\n        ctx.scale(-1, 1);\n        break;\n      case 'leftFlipped':\n        ctx.translate(size[0], size[0]);\n        ctx.scale(-1, -1);\n        break;\n      case 'rightFlipped':\n        ctx.translate(0, size[0]);\n        ctx.scale(1, -1);\n        break;\n    }\n\n    ctx.drawImage(\n      Resources.get(url),\n      x, y,\n      size[0], size[1],\n      0, 0,\n      size[0], size[1]\n    );\n  }\n}\n\nexport default Sprite;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Sprite.js","import * as SPRITES from './SPRITES';\nimport * as STAGES from './STAGES';\nimport * as CONSTANTS from './CONSTANTS';\nimport WallSprite from '../WallSprite';\nimport Powerup from '../Powerup';\nimport Crate from '../Crate';\nimport Player from '../Player';\nimport Enemy from '../Enemy';\nimport Shield from '../Shield';\n\nexport const CRATE = () => (\n  new Crate({\n    pos: STAGES.CRATE_SPAWN(),\n    vel: [0, 10],\n    sprite: SPRITES.CRATE()\n  })\n);\n\nexport const ELECTRIC_SHIELD = (id, player) => (\n  new Shield({\n    id,\n    pos: player.pos,\n    type: 'electricShield',\n    sprites: {\n      normal: SPRITES.ELECTRIC_SHIELD(),\n      flashing: SPRITES.ELECTRIC_SHIELD_FLASHING()\n    },\n    sprite: SPRITES.ELECTRIC_SHIELD()\n  })\n);\n\nexport const SHIELD = (id, player) => (\n  new Shield({\n    id,\n    pos: player.pos,\n    type: 'shield',\n    sprites: {\n      normal: SPRITES.SHIELD(),\n      flashing: SPRITES.SHIELD_FLASHING(),\n    },\n    sprite: SPRITES.SHIELD()\n  })\n);\n\nexport const SHIELD_PICKUP = (id) => (\n  new Powerup({\n    id,\n    pos: STAGES.POWERUP_SPAWN(),\n    vel: [0, 0],\n    type: 'shield',\n    sprite: SPRITES.SHIELD_PICKUP()\n  })\n);\n\nexport const ELECTRIC_SHIELD_PICKUP = (id) => (\n  new Powerup({\n    id,\n    pos: STAGES.POWERUP_SPAWN(),\n    vel: [0, 0],\n    type: 'electricShield',\n    sprite: SPRITES.ELECTRIC_SHIELD_PICKUP()\n  })\n);\n\nexport const NUKE_PICKUP = (id) => (\n  new Powerup({\n    id,\n    pos: STAGES.POWERUP_SPAWN(),\n    vel: [0, 0],\n    type: 'nuke',\n    sprite: SPRITES.NUKE_PICKUP()\n  })\n);\n\nexport const PLAYER = () => (\n  new Player({\n    type: 'player',\n    pos: [450, 250],\n    vel: [0, 0],\n    sprites: {\n      idleRight: SPRITES.PLAYER_IDLE_RIGHT(),\n      idleLeft: SPRITES.PLAYER_IDLE_LEFT(),\n      runRight: SPRITES.PLAYER_RUN_RIGHT(),\n      runLeft: SPRITES.PLAYER_RUN_LEFT(),\n    },\n    sprite: SPRITES.PLAYER_IDLE_RIGHT()\n  })\n);\n\nexport const HAMMER = (id) => (\n  new Enemy({\n    id,\n    pos: [400, 0],\n    vel: [CONSTANTS.ENEMY_ONE_VEL, 0],\n    sprites: {\n      runLeft: SPRITES.HAMMER_RUN_LEFT(),\n      runRight: SPRITES.HAMMER_RUN_RIGHT()\n    },\n    sprite: SPRITES.HAMMER_RUN_LEFT()\n  })\n);\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util/UNITS.js","import Wall from '../Wall';\n\n// WALL_THICKNESS\nconst WT = 30;\n\n// constants related to stage 1\nconst SLW1 = 170;   // SIDE_LEDGE_WIDTH_1\nconst MLW1 = 300;   // MID_LEDGE_WIDTH_1\nconst HO1 = 20;     // HEIGHT_OFFSET_1\nconst OW1 = 150;    // OPENING_WIDTH_1\n\nexport const STAGE_1 = [\n  // top walls\n  new Wall({\n    pos: [WT, 0],\n    size: [450 - (OW1 / 2) - WT, WT]\n  }),\n  new Wall({\n    pos: [450 + (OW1 / 2), 0],\n    size: [450 - (OW1 / 2) - WT, WT]\n  }),\n\n  // bottom walls\n  new Wall({\n    pos: [WT, 600 - WT],\n    size: [450 - (OW1 / 2) - WT, WT]\n  }),\n  new Wall({\n    pos: [450 + (OW1 / 2), 600 - WT],\n    size: [450 - (OW1 / 2) - WT, WT]\n  }),\n\n  // left wall\n  new Wall({\n    pos: [0, 0],\n    size: [WT, 600]\n  }),\n\n  // right wall\n  new Wall({\n    pos: [900 - WT, 0],\n    size: [WT, 600]\n  }),\n\n  // left ledge\n  new Wall({\n    pos: [WT, 300 - HO1],\n    size: [SLW1, WT]\n  }),\n\n  // right ledge\n  new Wall({\n    pos: [900 - WT - SLW1, 300 - HO1],\n    size: [SLW1, WT]\n  }),\n\n  // bottom-middle ledge\n  new Wall({\n    pos: [SLW1 + WT + 100, 400 - HO1],\n    size: [MLW1, WT]\n  }),\n\n  // upper-middle ledge\n  new Wall({\n    pos: [SLW1 + WT + 100, 170 - HO1],\n    size: [MLW1, WT]\n  }),\n\n  new Wall({\n    pos: [0, -WT - 25],\n    size: [900, WT]\n  })\n];\n\nconst sample = max => Math.floor(Math.random() * max);\n\nexport const CRATE_SPAWN = () => {\n  const seeds = [\n    [110, 230],\n    [120, 230],\n    [100, 230],\n    [90, 230],\n    [440, 330],\n    [450, 330],\n    [430, 330],\n    [420, 330],\n    [180, 520],\n    [190, 520],\n    [170, 520],\n    [160, 520],\n    [690, 520],\n    [780, 230],\n    [790, 230],\n    [770, 230],\n    [760, 230]\n  ];\n\n  const seed = seeds[sample(seeds.length)];\n  let multiplier = 1;\n  if (Math.random() > 0.5) {\n    multiplier = -1;\n  }\n  return [ (seed[0] + (multiplier * sample(20))), seed[1] ];\n};\n\nexport const POWERUP_SPAWN = () => {\n  const seeds = [\n    [420, 250],\n    [70, 150],\n    [750, 150],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 500],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90],\n    [420, 90]\n  ];\n\n  const seed = seeds[sample(seeds.length)];\n  const randomOffset = (n) => (\n    (Math.random() > 0.5 ? -1 : 1) * Math.floor(Math.random() * n)\n  );\n  return [ seed[0] + randomOffset(40), seed[1] ];\n};\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util/STAGES.js","import WallSprite from './WallSprite';\n\nclass Wall {\n  constructor(opts) {\n    const { pos, size } = opts;\n    this.type = 'wall';\n    this.size = size;\n    this.pos = pos;\n    this.sprite = new WallSprite(size);\n\n    this.hitbox = () => ({\n      x: this.pos[0],\n      y: this.pos[1],\n      w: size[0],\n      h: size[1]\n    });\n  }\n}\n\nexport default Wall;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Wall.js","import Resources from './Resources';\n\nclass WallSprite {\n  constructor(size) {\n    this.size = size;\n  }\n\n  render(ctx) {\n    const { size } = this;\n    const pattern = ctx.createPattern(\n      Resources.get('./lib/img/metal.png'),\n      'repeat'\n    );\n    ctx.fillStyle = pattern;\n    // ctx.fillStyle = 'black';\n    ctx.fillRect(0, 0, size[0], size[1]);\n    // ctx.strokeStyle = 'red';\n    // ctx.strokeRect(0, 0, size[0], size[1]);\n  }\n}\n\nexport default WallSprite;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/WallSprite.js","import Moveable from './Moveable';\n\nclass Powerup extends Moveable {\n  constructor(opts) {\n    super(opts);\n    this.type = opts.type;\n    this.id = opts.id;\n    this.createdAt = Date.now();\n\n    this.hitbox = () => ({\n      x: this.pos[0],\n      y: this.pos[1],\n      w: this.sprite.size[0],\n      h: this.sprite.size[1]\n    });\n  }\n\n  update(dt) {\n    this.sprite.update(dt);\n  }\n}\n\nexport default Powerup;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Powerup.js","import { GRAVITY } from './util/CONSTANTS';\nimport Moveable from './Moveable';\n\nclass Crate extends Moveable {\n  constructor(opts) {\n    super(opts);\n    this.type = 'crate';\n\n    this.hitbox = () => ({\n      x: this.pos[0],\n      y: this.pos[1],\n      w: this.sprite.size[0],\n      h: this.sprite.size[1]\n    });\n  }\n\n}\n\nexport default Crate;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Crate.js","import Moveable from './Moveable';\nimport * as CONSTANTS from './util/CONSTANTS';\nimport * as SPRITES from './util/SPRITES';\n\nclass Enemy extends Moveable {\n  constructor(opts) {\n    super(opts);\n    this.type = 'enemy';\n    this.speed = this.randomSpeed();\n    this.direction = Math.random() > 0.5 ? 'left' : 'right';\n    this.id = opts.id;\n    this.isDead = false;\n\n    this.hitbox = () => ({\n      x: this.pos[0] + 20,\n      y: this.pos[1] + 15,\n      w: 27,\n      h: 49\n    });\n\n    this.handleCollision = this.handleCollision.bind(this);\n    this.update = this.update.bind(this);\n    this.kill = this.kill.bind(this);\n  }\n\n  randomSpeed() {\n    return CONSTANTS.ENEMY_ONE_VEL * (0.8 + (Math.random() * 0.3));\n  }\n\n  handleCollision(collisionType) {\n    if (collisionType === 'right') {\n      this.direction = 'left';\n    } else if (collisionType === 'left') {\n      this.direction = 'right';\n    }\n  }\n\n  kill() {\n    this.isDead = true;\n    this.vel[1] += -400;\n    this.sprites.runRight.facing = 'rightFlipped';\n    this.sprites.runLeft.facing = 'leftFlipped';\n  }\n\n  update(dt) {\n    const { sprites, direction, speed } = this;\n    if (direction === 'left') {\n      this.vel[0] = -speed;\n      this.sprite = sprites.runRight; // facing wrong way in sprite sheet\n    } else if (direction === 'right') {\n      this.vel[0] = speed;\n      this.sprite = sprites.runLeft; // facing wrong way in sprite sheet\n    }\n    if (this.pos[0] > 900 || this.pos[1] > 600) {\n      this.pos[0] = 400;\n      this.pos[1] = 0;\n      this.speed = this.randomSpeed();\n    }\n    const fractionOfMaxSpeed = Math.abs(this.vel[0] / CONSTANTS.ENEMY_ONE_VEL);\n    this.sprite.speed = 20 * fractionOfMaxSpeed;\n\n    this.lastPos[0] = this.pos[0];\n    this.lastPos[1] = this.pos[1];\n    this.lastVel[0] = this.vel[0];\n    this.lastVel[1] = this.vel[1];\n\n    this.vel[1] += Math.random() > 0.9996 ? CONSTANTS.ENEMY_ONE_INIT_VEL : 0;\n    this.vel[1] += CONSTANTS.GRAVITY * dt;\n    this.pos[0] += this.vel[0] * dt;\n    this.pos[1] += this.vel[1] * dt;\n    this.sprite.update(dt);\n  }\n\n}\n\nexport default Enemy;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Enemy.js","import Moveable from './Moveable';\n\nclass Shield extends Moveable {\n  constructor(opts) {\n    super(opts);\n    this.id = opts.id;\n    this.type = opts.type;\n  }\n\n  update(dt) {\n    this.sprite.update(dt);\n  }\n\n}\n\nexport default Shield;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Shield.js","class Input {\n  constructor() {\n    this.pressedKeys = {};\n\n    this.setKey = this.setKey.bind(this);\n  }\n\n  setup() {\n    const { setKey } = this;\n    document.addEventListener('keydown', e => setKey(e, true));\n    document.addEventListener('keyup', e => setKey(e, false));\n    // window.addEventListener('blur', () => { this.pressedKeys = {}; });\n    window.input = {\n      isDown: key => this.pressedKeys[key.toUpperCase()],\n    };\n\n    window.addEventListener(\"keydown\", e => {\n    // prevent scrolling with arrow keys\n    if([32, 37, 38, 39, 40, 80].indexOf(e.keyCode) > -1) {\n        e.preventDefault();\n    }\n}, false);\n\n  }\n\n  setKey(event, status) {\n    const code = event.keyCode;\n    let key;\n\n    switch(code) {\n      case 32:\n        key = 'SPACE';\n        break;\n      case 37:\n        key = 'LEFT';\n        break;\n      case 38:\n        key = 'UP';\n        break;\n      case 39:\n        key = 'RIGHT';\n        break;\n      case 40:\n        key = 'DOWN';\n        break;\n      case 77:\n        key = 'M';\n        break;\n      case 80:\n        key = 'P';\n        break;\n      case 82:\n        key = 'R';\n        break;\n      default:\n        key = String.fromCharCode(code);\n    }\n\n    this.pressedKeys[key] = status;\n  }\n}\n\nexport default new Input();\n\n\n\n// WEBPACK FOOTER //\n// ./lib/Input.js","import Crate from '../Crate';\nimport * as CONSTANTS from './CONSTANTS';\n\nclass CollisionManager {\n  constructor(game) {\n    this.game = game;\n    // this.collisionEl = document.getElementById('collision');\n    this.entityHitWall = this.entityHitWall.bind(this);\n    this.typeOfCollision = this.typeOfCollision.bind(this);\n    this.handleCollisions = this.handleCollisions.bind(this);\n    this.handleEnemyCollisions = this.handleEnemyCollisions.bind(this);\n    this.handleCrateCollisions = this.handleCrateCollisions.bind(this);\n    this.handlePlayerCollisions = this.handlePlayerCollisions.bind(this);\n  }\n\n  handleCollisions(objects) {\n    const { player, enemies, crate, powerups } = objects;\n    const walls = objects.stage;\n    const {\n      handlePlayerCollisions,\n      handleEnemyCollisions,\n      handleCrateCollisions\n    } = this;\n\n    handlePlayerCollisions(player, [...walls, ...enemies, crate, ...powerups]);\n    handleEnemyCollisions(enemies, walls);\n    handleCrateCollisions(crate, walls);\n  }\n\n  handlePlayerCollisions(player, otherObjects) {\n    if (player.isDead) {\n      return;\n    }\n    const {\n      game,\n      typeOfCollision,\n      entityHitWall,\n      isPlayerFloating,\n      playerPickedUpCrate\n    } = this;\n    for (let i = 0; i < otherObjects.length; i++) {\n      const otherObject = otherObjects[i];\n      const collisionType = typeOfCollision(player, otherObject);\n      if (collisionType) {\n        switch(otherObject.type) {\n          case 'wall':\n            player.handleSurfaceCollison(collisionType);\n            entityHitWall(player, collisionType);\n            break;\n          case 'crate':\n            game.score++;\n            game.resetCrate();\n            break;\n          case 'enemy':\n            const enemy = otherObject;\n            if (!enemy.isDead) {\n              player.handleEnemyCollision(enemy, game);\n            }\n            break;\n          case 'shield':\n            const shield = otherObject;\n            player.handlePowerupCollision('shield', game);\n            game.removePowerup(shield.id);\n            break;\n          case 'electricShield':\n            const electricShield = otherObject;\n            player.handlePowerupCollision('electricShield', game);\n            game.removePowerup(electricShield.id);\n            break;\n          case 'nuke':\n            const nuke = otherObject;\n            player.handlePowerupCollision('nuke', game);\n            game.removePowerup(nuke.id);\n            break;\n          default:\n            return;\n        }\n      }\n    }\n  }\n\n  handleEnemyCollisions(enemies, walls) {\n    const { typeOfCollision, entityHitWall } = this;\n    for (let i = 0; i < enemies.length; i++) {\n      const enemy = enemies[i];\n      if (enemy.isDead) {\n        continue;\n      }\n      for (let j = 0; j < walls.length; j++) {\n        const wall = walls[j];\n        const collisionType = typeOfCollision(enemy, wall);\n        if (collisionType) {\n          enemy.handleCollision(collisionType);\n          entityHitWall(enemy, collisionType);\n        }\n      }\n    }\n  }\n\n  handleCrateCollisions(crate, walls) {\n    const { typeOfCollision, entityHitWall } = this;\n    for (let i = 0; i < walls.length; i++) {\n      const wall = walls[i];\n      const collisionType = typeOfCollision(crate, wall);\n      if (collisionType) {\n        entityHitWall(crate, collisionType);\n      }\n    }\n  }\n\n  entityHitWall(entity, collisionType) {\n    const {\n      resetXPos,\n      resetYPos,\n      resetXVel,\n      nullXVel,\n      resetYVel,\n      nullYVel,\n    } = this;\n    if (entity.type === 'player') {\n\n      // this.collisionEl.innerHTML = collisionType;\n    }\n    switch(collisionType) {\n      case 'bottom':\n        resetYPos(entity);\n        nullYVel(entity);\n        break;\n      case 'top':\n        resetYPos(entity);\n        nullYVel(entity);\n        break;\n      case 'left':\n        resetXPos(entity);\n      case 'right':\n        resetXPos(entity);\n        break;\n      case 'left-top':\n        resetXPos(entity, 3);\n        resetXVel(entity);\n        resetYPos(entity);\n        break;\n      case 'right-top':\n        resetXPos(entity, -3);\n        resetXVel(entity);\n        resetYPos(entity);\n        break;\n\n      case 'left-bottom':\n        resetXPos(entity, 5);\n        resetYPos(entity);\n        resetYVel(entity);\n        break;\n\n      case 'right-bottom':\n        resetXPos(entity, -5);\n        resetYPos(entity);\n        resetYVel(entity);\n        break;\n\n      case 'top-bottom':\n        resetXPos(entity);\n        break;\n      default:\n        break;\n    }\n  }\n\n  resetXPos(entity, offset = 0) {\n    entity.pos[0] = entity.lastPos[0] + offset;\n  }\n\n  resetYPos(entity, offset = 0) {\n    entity.pos[1] = entity.lastPos[1] + offset;\n  }\n\n  resetXVel(entity, offset = 0) {\n    entity.vel[0] = entity.lastVel[0] + offset;\n  }\n\n  nullXVel(entity) {\n    entity.vel[0] = 0;\n  }\n\n  resetYVel(entity, offset = 0) {\n    entity.vel[1] = entity.lastVel[1] + offset;\n  }\n\n  nullYVel(entity) {\n    entity.vel[1] = 0;\n  }\n\n  typeOfCollision(obj1, obj2) {\n    const { collisionExists } = this;\n    const rect1 = obj1.hitbox();\n    const rect2 = obj2.hitbox();\n\n    if (collisionExists(rect1, rect2)) {\n      const {\n        _collisionRight,\n        _collisionLeft,\n        _collisionTop,\n        _collisionBottom\n      } = this;\n\n      const l = _collisionLeft(rect1, rect2);\n      const r = _collisionRight(rect1, rect2);\n      const t = _collisionTop(rect1, rect2);\n      const b = _collisionBottom(rect1, rect2);\n\n      if ( t && b ) {\n        return 'top-bottom';\n      } else if (l && t) {\n        return 'left-top';\n      } else if (l && b ) {\n        return 'left-bottom';\n      } else if (r && t) {\n        return 'right-top';\n      } else if (r && b) {\n        return 'right-bottom';\n      } else if (l) {\n        return 'left';\n      } else if (r) {\n        return 'right';\n      } else if (t) {\n        return 'top';\n      } else if (b) {\n        return 'bottom';\n      } else {\n        return null;\n      }\n    } else {\n      return null;\n    }\n\n  }\n\n  collisionExists(rect1, rect2) {\n    return (\n      rect1.x < rect2.x + rect2.w &&\n      rect1.x + rect1.w > rect2.x &&\n      rect1.y < rect2.y + rect2.h &&\n      rect1.h + rect1.y > rect2.y\n    );\n  }\n\n  // private\n\n  _collisionRight(rect1, rect2) {\n    return rect1.x + rect1.w > rect2.x && rect1.x < rect2.x;\n  }\n\n  _collisionLeft(rect1, rect2) {\n    return rect1.x < rect2.x + rect2.w && rect1.x + rect1.w > rect2.x + rect2.w;\n  }\n\n  _collisionTop(rect1, rect2) {\n    return rect1.y < rect2.y + rect2.h && rect1.y + rect1.h > rect2.y + rect2.h;\n  }\n\n  _collisionBottom(rect1, rect2) {\n    return rect1.y + rect1.h > rect2.y && rect1.y < rect2.y;\n  }\n\n}\n\nexport default CollisionManager;\n\n\n\n// WEBPACK FOOTER //\n// ./lib/util/CollisionManager.js"],"sourceRoot":""}
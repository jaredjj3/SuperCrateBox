{"version":3,"sources":["webpack/bootstrap e99ab7b2b835caa85021","./lib/SuperCrateBox.js","./lib/Resources.js","./lib/Sprite.js","./lib/Input.js","./lib/util/FRAMES.js"],"names":["FRAMES","SuperCrateBox","play","bind","main","update","render","handleInput","updateEntities","renderEntities","renderEntity","console","log","lastTime","Date","now","_setup","dt","requestAnimationFrame","input","window","player","sprite","list","i","length","entity","ctx","clearRect","save","translate","pos","restore","canvas","document","getElementById","getContext","load","init","onReady","url","size","speed","frames","PLAYER_BREATH_FRAMES","dir","once","enemies","crate","score","scoreEl","scb","addEventListener","Resources","resourceCache","loading","readyCallbacks","_load","get","isReady","arg","Array","forEach","ready","k","hasOwnProperty","func","push","img","Image","onload","callback","src","Sprite","_index","frame","max","idx","Math","floor","done","x","y","drawImage","Input","pressedKeys","setKey","e","isDown","key","toUpperCase","event","status","code","keyCode","String","fromCharCode"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;ACtCA;;;;AACA;;;;AACA;;;;AACA;;KAAYA,M;;;;;;;;KAENC,a;AACJ,4BAAc;AAAA;;AACZ,UAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUC,IAAV,CAAe,IAAf,CAAZ;AACA,UAAKC,IAAL,GAAY,KAAKA,IAAL,CAAUD,IAAV,CAAe,IAAf,CAAZ;AACA,UAAKE,MAAL,GAAc,KAAKA,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAAd;AACA,UAAKG,MAAL,GAAc,KAAKA,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAAd;AACA,UAAKI,WAAL,GAAmB,KAAKA,WAAL,CAAiBJ,IAAjB,CAAsB,IAAtB,CAAnB;AACA,UAAKK,cAAL,GAAsB,KAAKA,cAAL,CAAoBL,IAApB,CAAyB,IAAzB,CAAtB;AACA,UAAKM,cAAL,GAAsB,KAAKA,cAAL,CAAoBN,IAApB,CAAyB,IAAzB,CAAtB;AACA,UAAKO,YAAL,GAAoB,KAAKA,YAAL,CAAkBP,IAAlB,CAAuB,IAAvB,CAApB;AACD;;;;4BAEM;AACLQ,eAAQC,GAAR,CAAY,MAAZ;AACA,YAAKC,QAAL,GAAgBC,KAAKC,GAAL,EAAhB;AACA,YAAKC,MAAL;AACD;;;4BAEM;AACLL,eAAQC,GAAR,CAAY,MAAZ;AADK,WAEGP,MAFH,GAEsB,IAFtB,CAEGA,MAFH;AAAA,WAEWC,MAFX,GAEsB,IAFtB,CAEWA,MAFX;;AAGL,WAAMS,MAAMD,KAAKC,GAAL,EAAZ;AACA,WAAME,KAAK,CAACF,MAAM,KAAKF,QAAZ,IAAwB,MAAnC;;AAEAR,cAAOY,EAAP;AACAX;;AAEA,YAAKO,QAAL,GAAgBE,GAAhB;AACAG,6BAAsB,KAAKd,IAA3B;AACD;;;4BAEMa,E,EAAI;AACT,YAAKV,WAAL,CAAiBU,EAAjB;AACA,YAAKT,cAAL,CAAoBS,EAApB;AACD;;;iCAEWA,E,EAAI;AACd,WAAME,QAAQC,OAAOD,KAArB;AACD;;;oCAEcF,E,EAAI;AACjB,YAAKI,MAAL,CAAYC,MAAZ,CAAmBjB,MAAnB,CAA0BY,EAA1B;AACD;;;8BAEQ;AAAA,WACCP,YADD,GAC0B,IAD1B,CACCA,YADD;AAAA,WACeW,MADf,GAC0B,IAD1B,CACeA,MADf;;AAEPX,oBAAaW,MAAb;AACD;;;oCAEcE,I,EAAM;AACnB,YAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,KAAKE,MAAzB,EAAiCD,GAAjC,EAAsC;AACpC,cAAKd,YAAL,CAAkBa,KAAKC,CAAL,CAAlB;AACD;AACF;;;kCAEYE,M,EAAQ;AAAA,WACXC,GADW,GACH,IADG,CACXA,GADW;;AAEnBA,WAAIC,SAAJ,CAAc,CAAd,EAAiB,CAAjB,EAAoB,GAApB,EAAyB,GAAzB;AACAD,WAAIE,IAAJ;AACAF,WAAIG,SAAJ,CAAcJ,OAAOK,GAAP,CAAW,CAAX,CAAd,EAA6BL,OAAOK,GAAP,CAAW,CAAX,CAA7B;AACAL,cAAOJ,MAAP,CAAchB,MAAd,CAAqBqB,GAArB;AACAA,WAAIK,OAAJ;AACD;;AAED;;;;8BAES;AAAA;;AACP;AACA,WAAMC,SAASC,SAASC,cAAT,CAAwB,QAAxB,CAAf;AACA,YAAKR,GAAL,GAAWM,OAAOG,UAAP,CAAkB,IAAlB,CAAX;;AAEA;AACA,2BAAUC,IAAV,CAAe,CACb,wBADa,CAAf;AAGA,WAAMC,OAAO,SAAPA,IAAO,GAAM;AACjB,eAAKlC,IAAL;AACD,QAFD;AAGA,2BAAUmC,OAAV,CAAkBD,IAAlB;;AAEA;;AAEA;AACA,WAAME,MAAM,wBAAZ;AACA,WAAMT,MAAM,CAAC,CAAD,EAAI,CAAJ,CAAZ;AACA,WAAMU,OAAO,CAAC,EAAD,EAAK,EAAL,CAAb;AACA,WAAMC,QAAQ,EAAd;AACA,WAAMC,SAAS3C,OAAO4C,oBAAtB;AACA,WAAMC,MAAM,YAAZ;AACA,WAAMC,OAAO,KAAb;AACA,YAAKzB,MAAL,GAAc;AACZU,cAAK,CAAC,CAAD,EAAI,CAAJ,CADO;AAEZT,iBAAQ,qBAAWkB,GAAX,EAAgBT,GAAhB,EAAqBU,IAArB,EAA2BC,KAA3B,EAAkCC,MAAlC,EAA0CE,GAA1C,EAA+CC,IAA/C;AAFI,QAAd;;AAKA,YAAKC,OAAL,GAAe,EAAf;AACA,YAAKC,KAAL,GAAa,EAAb;;AAEA,YAAKC,KAAL,GAAa,CAAb;AACA,YAAKC,OAAL,GAAehB,SAASC,cAAT,CAAwB,OAAxB,CAAf;AACD;;;;;;AAIH,KAAMgB,MAAM,IAAIlD,aAAJ,EAAZ;AACAiC,UAASkB,gBAAT,CAA0B,kBAA1B,EAA8C;AAAA,UAAMD,IAAIjD,IAAJ,EAAN;AAAA,EAA9C,E;;;;;;;;;;;;;;;;KC9GMmD,S;AACJ,wBAAc;AAAA;;AACZ,UAAKC,aAAL,GAAqB,EAArB;AACA,UAAKC,OAAL,GAAe,EAAf;AACA,UAAKC,cAAL,GAAsB,EAAtB;;AAEA,UAAKnB,IAAL,GAAY,KAAKA,IAAL,CAAUlC,IAAV,CAAe,IAAf,CAAZ;AACA,UAAKsD,KAAL,GAAa,KAAKA,KAAL,CAAWtD,IAAX,CAAgB,IAAhB,CAAb;AACA,UAAKuD,GAAL,GAAW,KAAKA,GAAL,CAASvD,IAAT,CAAc,IAAd,CAAX;AACA,UAAKwD,OAAL,GAAe,KAAKA,OAAL,CAAaxD,IAAb,CAAkB,IAAlB,CAAf;AACA,UAAKoC,OAAL,GAAe,KAAKA,OAAL,CAAapC,IAAb,CAAkB,IAAlB,CAAf;AACD;;;;0BAEIyD,G,EAAK;AAAA,WACAH,KADA,GACU,IADV,CACAA,KADA;;;AAGR,WAAIG,eAAeC,KAAnB,EAA0B;AACxBD,aAAIE,OAAJ,CAAY;AAAA,kBAAOL,MAAMjB,GAAN,CAAP;AAAA,UAAZ;AACD,QAFD,MAEO;AACLiB,eAAMG,GAAN;AACD;AACF;;;yBAEGpB,G,EAAK;AACP,cAAO,KAAKc,aAAL,CAAmBd,GAAnB,CAAP;AACD;;;+BAES;AAAA,WACAc,aADA,GACkB,IADlB,CACAA,aADA;;AAER,WAAIS,QAAQ,IAAZ;AACA,YAAK,IAAIC,CAAT,IAAcV,aAAd,EAA6B;AAC3B,aAAIA,cAAcW,cAAd,CAA6BD,CAA7B,KAAmC,CAACV,cAAcU,CAAd,CAAxC,EAA0D;AACxDD,mBAAQ,KAAR;AACD;AACF;AACD,cAAOA,KAAP;AACD;;;6BAEOG,I,EAAM;AACZ,YAAKV,cAAL,CAAoBW,IAApB,CAAyBD,IAAzB;AACD;;AAED;;;;2BAEM1B,G,EAAK;AACT7B,eAAQC,GAAR,CAAY,OAAZ;AADS,WAED0C,aAFC,GAE0C,IAF1C,CAEDA,aAFC;AAAA,WAEcE,cAFd,GAE0C,IAF1C,CAEcA,cAFd;AAAA,WAE8BG,OAF9B,GAE0C,IAF1C,CAE8BA,OAF9B;;;AAIT,WAAIL,cAAcd,GAAd,CAAJ,EAAwB;AACtB,gBAAOc,cAAcd,GAAd,CAAP;AACD,QAFD,MAEO;AAAA;AACL,eAAM4B,MAAM,IAAIC,KAAJ,EAAZ;AACAD,eAAIE,MAAJ,GAAa,YAAM;AACjBhB,2BAAcd,GAAd,IAAqB4B,GAArB;;AAEA,iBAAIT,SAAJ,EAAe;AACbH,8BAAeM,OAAf,CAAuB;AAAA,wBAAYS,UAAZ;AAAA,gBAAvB;AACD;AACF,YAND;AAOAjB,yBAAcd,GAAd,IAAqB,KAArB;AACA4B,eAAII,GAAJ,GAAUhC,GAAV;AAVK;AAWN;AACF;;;;;;YAIqC,IAAIa,SAAJ,E;;KAAhChB,I,QAAAA,I;KAAMqB,G,QAAAA,G;KAAKnB,O,QAAAA,O;KAASoB,O,QAAAA,O;mBACb;AACbtB,SAAMA,IADO;AAEbqB,QAAKA,GAFQ;AAGbnB,YAASA,OAHI;AAIboB,YAASA;AAJI,E;;;;;;;;;;;;;;ACnEf;;;;;;;;KAEMc,M;AACJ,mBAAYjC,GAAZ,EAAiBT,GAAjB,EAAsBU,IAAtB,EAA4BC,KAA5B,EAAmCC,MAAnC,EAA2CE,GAA3C,EAAgDC,IAAhD,EAAsD;AAAA;;AACpD,UAAKf,GAAL,GAAWA,GAAX;AACA,UAAKU,IAAL,GAAYA,IAAZ;AACA,UAAKC,KAAL,GAAa,OAAOA,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoC,CAAjD;AACA,UAAKC,MAAL,GAAcA,MAAd;AACA,UAAKH,GAAL,GAAWA,GAAX;AACA,UAAKK,GAAL,GAAWA,GAAX;AACA,UAAKC,IAAL,GAAYA,IAAZ;AACA,UAAK4B,MAAL,GAAc,CAAd;;AAEA,UAAKrE,MAAL,GAAc,KAAKA,MAAL,CAAYF,IAAZ,CAAiB,IAAjB,CAAd;AACA,UAAKG,MAAL,GAAc,KAAKA,MAAL,CAAYH,IAAZ,CAAiB,IAAjB,CAAd;AACD;;;;4BAEMc,E,EAAI;AAAA,WACDyB,KADC,GACS,IADT,CACDA,KADC;;AAET,YAAKgC,MAAL,IAAehC,QAAQzB,EAAvB;AACD;;;4BAEMU,G,EAAK;AAAA,WACFe,KADE,GACmD,IADnD,CACFA,KADE;AAAA,WACKC,MADL,GACmD,IADnD,CACKA,MADL;AAAA,WACaZ,GADb,GACmD,IADnD,CACaA,GADb;AAAA,WACkBU,IADlB,GACmD,IADnD,CACkBA,IADlB;AAAA,WACwBK,IADxB,GACmD,IADnD,CACwBA,IADxB;AAAA,WAC8B4B,MAD9B,GACmD,IADnD,CAC8BA,MAD9B;AAAA,WACsC7B,GADtC,GACmD,IADnD,CACsCA,GADtC;AAAA,WAC2CL,GAD3C,GACmD,IADnD,CAC2CA,GAD3C;;AAEV,WAAImC,cAAJ;;AAEA,WAAIjC,QAAQ,CAAZ,EAAe;AACb,aAAMkC,MAAM,KAAKjC,MAAL,CAAYlB,MAAxB;AACA,aAAMoD,MAAMC,KAAKC,KAAL,CAAWL,MAAX,CAAZ;AACAC,iBAAQhC,OAAOkC,MAAMD,GAAb,CAAR;;AAEA,aAAI9B,QAAQ+B,OAAOD,GAAnB,EAAwB;AACtB,gBAAKI,IAAL,GAAY,IAAZ;AACA;AACD;AACF,QATD,MASO;AACLL,iBAAQ,CAAR;AACD;;AAED,WAAIM,IAAIlD,IAAI,CAAJ,CAAR;AACA,WAAImD,IAAInD,IAAI,CAAJ,CAAR;;AAEA,WAAIc,QAAQ,UAAZ,EAAwB;AACtBqC,cAAKP,QAAQlC,KAAK,CAAL,CAAb;AACD,QAFD,MAEO;AACLwC,cAAKN,QAAQlC,KAAK,CAAL,CAAb;AACD;AACDd,WAAIwD,SAAJ,CACE,oBAAUzB,GAAV,CAAclB,GAAd,CADF,EAEEyC,CAFF,EAEKC,CAFL,EAGEzC,KAAK,CAAL,CAHF,EAGWA,KAAK,CAAL,CAHX,EAIE,CAJF,EAIK,CAJL,EAKEA,KAAK,CAAL,CALF,EAKWA,KAAK,CAAL,CALX;AAOD;;;;;;mBAGYgC,M;;;;;;;;;;;;;;;;KCzDTW,K;AACJ,oBAAc;AAAA;;AACZ,UAAKC,WAAL,GAAmB,EAAnB;AACD;;;;6BAEO;AAAA;;AAAA,WACEC,MADF,GACa,IADb,CACEA,MADF;;AAENpD,gBAASkB,gBAAT,CAA0B,SAA1B,EAAqC;AAAA,gBAAKkC,OAAOC,CAAP,EAAU,IAAV,CAAL;AAAA,QAArC;AACArD,gBAASkB,gBAAT,CAA0B,OAA1B,EAAmC;AAAA,gBAAKkC,OAAOC,CAAP,EAAU,KAAV,CAAL;AAAA,QAAnC;AACAnE,cAAOgC,gBAAP,CAAwB,MAAxB,EAAgC,YAAM;AACpC,eAAKiC,WAAL,GAAmB,EAAnB;AACD,QAFD;AAGAjE,cAAOD,KAAP,GAAe;AACbqE,iBAAQ;AAAA,kBAAO,MAAKH,WAAL,CAAiBI,IAAIC,WAAJ,EAAjB,CAAP;AAAA;AADK,QAAf;AAGD;;;4BAEMC,K,EAAOC,M,EAAQ;AAAA,WACZP,WADY,GACI,IADJ,CACZA,WADY;;AAEpB,WAAMQ,OAAOF,MAAMG,OAAnB;AACA,WAAIL,YAAJ;;AAEA,eAAOI,IAAP;;AAEE,cAAK,EAAL;AACEJ,iBAAM,OAAN;AACA;;AAEF,cAAK,EAAL;AACEA,iBAAM,MAAN;AACA;;AAEF,cAAK,EAAL;AACEA,iBAAM,IAAN;AACA;;AAEF,cAAK,EAAL;AACEA,iBAAM,OAAN;AACA;;AAEF,cAAK,EAAL;AACEA,iBAAM,MAAN;AACA;;AAEF;AACEA,iBAAMM,OAAOC,YAAP,CAAoBH,IAApB,CAAN;AAvBJ;;AA0BAR,mBAAYI,GAAZ,IAAmBG,MAAnB;AACD;;;;;;mBAGYR,K;;;;;;;;;;;ACpDR,KAAMxC,sDAAuB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B,EAA+B,CAA/B,EAAkC,CAAlC,EAAqC,CAArC,EAAwC,CAAxC,EAA2C,CAA3C,EAA8C,CAA9C,EAAiD,CAAjD,EAAoD,CAApD,EAAuD,CAAvD,EAA0D,CAA1D,EAA6D,CAA7D,EAAgE,CAAhE,CAA7B,C","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap e99ab7b2b835caa85021\n **/","import Resources from './Resources';\nimport Sprite from './Sprite';\nimport Input from './Input';\nimport * as FRAMES from './util/FRAMES';\n\nclass SuperCrateBox {\n  constructor() {\n    this.play = this.play.bind(this);\n    this.main = this.main.bind(this);\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.updateEntities = this.updateEntities.bind(this);\n    this.renderEntities = this.renderEntities.bind(this);\n    this.renderEntity = this.renderEntity.bind(this);\n  }\n\n  play() {\n    console.log(\"play\");\n    this.lastTime = Date.now();\n    this._setup();\n  }\n\n  main() {\n    console.log('main');\n    const { update, render } = this;\n    const now = Date.now();\n    const dt = (now - this.lastTime) / 1000.0;\n\n    update(dt);\n    render();\n\n    this.lastTime = now;\n    requestAnimationFrame(this.main);\n  }\n\n  update(dt) {\n    this.handleInput(dt);\n    this.updateEntities(dt);\n  }\n\n  handleInput(dt) {\n    const input = window.input;\n  }\n\n  updateEntities(dt) {\n    this.player.sprite.update(dt);\n  }\n\n  render() {\n    const { renderEntity, player } = this;\n    renderEntity(player);\n  }\n\n  renderEntities(list) {\n    for (let i = 0; i < list.length; i++) {\n      this.renderEntity(list[i]);\n    }\n  }\n\n  renderEntity(entity) {\n    const { ctx } = this;\n    ctx.clearRect(0, 0, 900, 600);\n    ctx.save();\n    ctx.translate(entity.pos[0], entity.pos[1]);\n    entity.sprite.render(ctx);\n    ctx.restore();\n  }\n\n  // private\n\n  _setup() {\n    // makes reference to canvas\n    const canvas = document.getElementById('canvas');\n    this.ctx = canvas.getContext('2d');\n\n    // loads resources\n    Resources.load([\n      './lib/img/jay_idle.png'\n    ]);\n    const init = () => {\n      this.main();\n    };\n    Resources.onReady(init);\n\n    // Sets event listeners\n\n    // sets game state\n    const url = './lib/img/jay_idle.png';\n    const pos = [0, 0];\n    const size = [64, 64];\n    const speed = 13;\n    const frames = FRAMES.PLAYER_BREATH_FRAMES;\n    const dir = 'horizontal';\n    const once = false;\n    this.player = {\n      pos: [0, 0],\n      sprite: new Sprite(url, pos, size, speed, frames, dir, once)\n    };\n\n    this.enemies = [];\n    this.crate = { };\n\n    this.score = 0;\n    this.scoreEl = document.getElementById('score');\n  }\n\n}\n\nconst scb = new SuperCrateBox();\ndocument.addEventListener('DOMContentLoaded', () => scb.play());\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/SuperCrateBox.js\n **/","class Resources {\n  constructor() {\n    this.resourceCache = {};\n    this.loading = [];\n    this.readyCallbacks = [];\n\n    this.load = this.load.bind(this);\n    this._load = this._load.bind(this);\n    this.get = this.get.bind(this);\n    this.isReady = this.isReady.bind(this);\n    this.onReady = this.onReady.bind(this);\n  }\n\n  load(arg) {\n    const { _load } = this;\n\n    if (arg instanceof Array) {\n      arg.forEach(url => _load(url));\n    } else {\n      _load(arg);\n    }\n  }\n\n  get(url) {\n    return this.resourceCache[url];\n  }\n\n  isReady() {\n    const { resourceCache } = this;\n    let ready = true;\n    for (let k in resourceCache) {\n      if (resourceCache.hasOwnProperty(k) && !resourceCache[k]) {\n        ready = false;\n      }\n    }\n    return ready;\n  }\n\n  onReady(func) {\n    this.readyCallbacks.push(func);\n  }\n\n  // private\n\n  _load(url) {\n    console.log('_load');\n    const { resourceCache, readyCallbacks, isReady } = this;\n\n    if (resourceCache[url]) {\n      return resourceCache[url];\n    } else {\n      const img = new Image();\n      img.onload = () => {\n        resourceCache[url] = img;\n\n        if (isReady()) {\n          readyCallbacks.forEach(callback => callback());\n        }\n      };\n      resourceCache[url] = false;\n      img.src = url;\n    }\n  }\n\n}\n\nconst { load, get, onReady, isReady } = new Resources();\nexport default {\n  load: load,\n  get: get,\n  onReady: onReady,\n  isReady: isReady\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Resources.js\n **/","import Resources from './Resources.js';\n\nclass Sprite {\n  constructor(url, pos, size, speed, frames, dir, once) {\n    this.pos = pos;\n    this.size = size;\n    this.speed = typeof speed === 'number' ? speed : 0;\n    this.frames = frames;\n    this.url = url;\n    this.dir = dir;\n    this.once = once;\n    this._index = 0;\n\n    this.update = this.update.bind(this);\n    this.render = this.render.bind(this);\n  }\n\n  update(dt) {\n    const { speed } = this;\n    this._index += speed * dt;\n  }\n\n  render(ctx) {\n    const { speed, frames, pos, size, once, _index, dir, url } = this;\n    let frame;\n\n    if (speed > 0) {\n      const max = this.frames.length;\n      const idx = Math.floor(_index);\n      frame = frames[idx % max];\n\n      if (once && idx >= max) {\n        this.done = true;\n        return;\n      }\n    } else {\n      frame = 0;\n    }\n\n    let x = pos[0];\n    let y = pos[1];\n\n    if (dir === 'vertical') {\n      y += frame * size[1];\n    } else {\n      x += frame * size[0];\n    }\n    ctx.drawImage(\n      Resources.get(url),\n      x, y,\n      size[0], size[1],\n      0, 0,\n      size[0], size[1]\n    );\n  }\n}\n\nexport default Sprite;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Sprite.js\n **/","class Input {\n  constructor() {\n    this.pressedKeys = {};\n  }\n\n  setup() {\n    const { setKey } = this;\n    document.addEventListener('keydown', e => setKey(e, true));\n    document.addEventListener('keyup', e => setKey(e, false));\n    window.addEventListener('blur', () => {\n      this.pressedKeys = {};\n    });\n    window.input = {\n      isDown: key => this.pressedKeys[key.toUpperCase()]\n    };\n  }\n\n  setKey(event, status) {\n    const { pressedKeys } = this;\n    const code = event.keyCode;\n    let key;\n\n    switch(code) {\n\n      case 32:\n        key = 'SPACE';\n        break;\n\n      case 37:\n        key = 'LEFT';\n        break;\n\n      case 38:\n        key = 'UP';\n        break;\n\n      case 39:\n        key = 'RIGHT';\n        break;\n\n      case 40:\n        key = 'DOWN';\n        break;\n\n      default:\n        key = String.fromCharCode(code);\n    }\n\n    pressedKeys[key] = status;\n  }\n}\n\nexport default Input;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/Input.js\n **/","export const PLAYER_BREATH_FRAMES = [0, 1, 1, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 2, 2, 1, 1, 0, 0, 0, 0, 0]\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/util/FRAMES.js\n **/"],"sourceRoot":""}